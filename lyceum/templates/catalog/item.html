{% extends "base.html" %}
{% block main %}
{% load thumbnail static %}
<script src="{% static 'js/anime.min.js' %}"></script>
<script src="{% static 'js/scrollreveal.min.js' %}"></script>
<div class="container">
    <a href="{% url 'catalog:item_list' %}" class="btn btn-primary rounded-pill">
        <i class="fa-solid fa-arrow-left"></i>
        &nbsp;Вернуться
    </a>
    <h1>{{ item.name }}</h1>
    {% thumbnail item.main_image.main_image "300x300" as main_image %}
    <img src="{{ main_image.url }}">
    <a href="{% url 'download:download' path=item.main_image.main_image %}">Скачать</a>
    {% empty %}
    <svg class="bd-placeholder-img card-img-top" width="100%" height="300px" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Изображение отсутствует</title><rect width="100%" height="100%" fill="#55595c"></rect></svg>
    {% endthumbnail %}
    <h6>Описание:</h6>
    <p>{{ item.text|safe }}</p>
    {% if item.category.name %}
    <h6>Категория:</h6>
    <p>
        <span class="badge rounded-pill text-bg-warning">{{ item.category.name }}</span>
    </p>
    {% endif %}
    <h6>Теги:</h6>
    <p>
        {% for tag in item.tags.all %}
        <span class="badge rounded-pill text-bg-warning">{{ tag.name }}</span>
        {% empty %}
        отсутствуют
        {% endfor %}
    </p>
    <h6>Изображения:</h6>
    <div class="row row-cols-1 row-cols-md-3 g-4">
    {% for image in item.images.all %}
    {% thumbnail image.image "300x300" as tmb_image %}
    <div class="col height100">
        <div class="card h-100 shadow-sm item_card is-revealing">   
            <img class="bd-placeholder-img card-img-top" width="100%" height="300px" src="{{ tmb_image.url }}">
            <div class="card-body">
                <a href="{% url 'download:download' path=image.image %}" class="btn btn-outline-warning">Скачать</a>
            </div>
        </div>
    </div>
    {% endthumbnail %}
    {% empty %}
    <p>Отсутствуют</p>
    {% endfor %}
    </div>
</div>
<script src="{% static 'js/animation_setup.min.js' %}"></script>
{% endblock %}
